<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mausam</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div id="search">
      <h1 class="text">Input The City Name And Press Enter:</h1>

      <div class="flex-container-1">
        <div class="flex-items">
          <input type="text" id="searchBox" rows="1" cols="35" />
        </div>
        <!-- <div class="flex-items"><button onclick="search()"><img src="search.png" height="30px" width="30px"></button></div> -->
      </div>
      <h1 class="text" id="city">City_Name</h1>
      <h1 class="text" id="temp">Temparture</h1>
      <h2 class="text"></h2>
      <div class="flex-container-2">
        <div class="flex-items">
          <p class="text" id="date">Date & Time :</p>
        </div>
      </div>
    </div>
    <script src="index.js"></script>
    <script>
        var cityname;
      const searchInputBox = document.getElementById("searchBox");
      // Event Listener Function on keypress
      searchInputBox.addEventListener("keypress", (event) => {
        if (event.keyCode == 13) {
            getcity(searchInputBox.value);
        }
      });
      
      function getcity(city){

        link =
        "https://api.openweathermap.org/data/2.5/weather?q="
        + city +
        "&appid=c22f1bf16c3dc4482e5481af4d4a8649";

        var request = new XMLHttpRequest();
      request.open("GET", link, true);
      request.onload = function () {
        var obj = JSON.parse(this.response);
        console.log(obj);
        document.getElementById("city").innerHTML = obj.name;
        document.getElementById("temp").innerHTML =
          Math.round(obj.main.temp - 273.15) + "°C";
        //   document.getElementById("temp")="°C";
        // document.querySelector(.)
      };
      if (request.status >= 200 && request.status < 400) {
        var temp = obj.main.temp;
      } else console.log("City Data is not available");

      request.send();

      }

    </script>
  </body>
</html>
